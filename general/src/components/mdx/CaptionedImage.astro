---
import type { ImageMetadata } from "astro";

export interface Props {
  src: ImageMetadata | string;
  alt: string;
  title?: string;
}

const { src, alt, title } = Astro.props;

// Handle both ImageMetadata objects (local images) and strings (remote images)
const imageSrc = typeof src === "string" ? src : src.src;
---

<figure class="my-8">
  <picture>
    <img src={imageSrc} alt={alt} title={title} class="rounded-lg" />
  </picture>
  {alt && (
    <figcaption class="mt-2 text-center text-sm italic text-black/60 dark:text-white/60">
      {alt}
    </figcaption>
  )}
</figure>
